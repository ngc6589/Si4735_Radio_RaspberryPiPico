# Si4735ラジオ概要

![Image 1](Materials/Si4735Radio-1.jpg)
![Image 2](Materials/Si4735Radio-2.jpg)
![Image 3](Materials/Si4735Radio-3.jpg)


Raspberry Pi Pico と ILI9341 タッチ液晶を使用し、Si4735 DSP ラジオチップを動かすラジオを製作しました。写真のように周波数を入力してチューニングする画面、ステップ周波数のUP/DOWNチューニング、選局リストからチューニングのモードを備えています。
このラジオの Raspberry Pi Pico のファームウエアは micropython に lvgl グラフィックライブラリをバインドした lv_micropython というものを使用しています。この lv_micropython は https://github.com/lvgl/lv_micropython にて公開されています。これにフリーフォントなどを加えたカスタマイズ版のファームウエアを作成しています。
このファームウエアに micropython で記述したラジオアプリケーションを動かして上記機能を実現しました。

## 制限事項

* Raspberry Pi Pico の RAMが 264kB なので画面にグラフィックスウイジェットをたくさん出すとハングアップします。特に選局リストは放送局分のオブジェクトを内部で作成するので、選局リストをいじくりまわしていると固まることが多いです。選局して放置している分には特にハングアップは発生しません。

これはヒープ領域不足で発生し、その原因は画面のウイジェット数や変数領域などに依存するので、今後 lvgl や micropython の新バージョンがリリースされても改善の見込みはありません。
* 電源スイッチはありません
* 電源電圧は 5V です。 

Raspberry Pi Pico のUSB端子もしくはとDCジャックから給電します。同時挿しも問題ありません。DCジャックから給電する場合は 5V のスイッチング AC アダプタを使用してください。トランス式 AC アダプタの場合は表示が 5V でも電源電圧が 5V 以上になっているため使用できません。ラジオのボードは壊れます。

## 簡単な使用方法

周波数入力選局とステップチューニング画面は、画面上の余白をロングタップすると切り替わります。

選局リストチューニングは画面をスワイプもしくは画面下部の Station を押すと画面遷移します。戻るときは画面下部の MAIN を押すか画面スワイプで戻ります。
